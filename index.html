<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aplikasi Widget & API</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Flatpickr CSS & JS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-3xl mx-auto bg-white shadow-md rounded-lg p-6">
    <h1 class="text-2xl font-bold text-center text-blue-500">Aplikasi Widget & API</h1>

    <!-- Date Picker -->
    <div class="my-6">
      <label class="block text-gray-700 font-semibold mb-2">Pilih Tanggal:</label>
      <input id="datepicker" type="text" class="border-gray-300 rounded-lg shadow-sm w-full p-2" placeholder="Pilih tanggal...">
    </div>

    <!-- Chart Section -->
    <div class="my-6">
      <h2 class="text-xl font-semibold text-gray-700 mb-4">Grafik Penjualan:</h2>
      <canvas id="myChart" width="400" height="200"></canvas>
    </div>

    <!-- Button -->
    <div class="text-center mt-6">
      <button id="actionButton" class="bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600">Klik Saya</button>
    </div>

    <!-- Result Area -->
    <div id="resultArea" class="mt-6 text-center text-gray-700 font-semibold">
      Belum ada aksi.
    </div>
  </div>

  <script>
    // Initialize Flatpickr
    flatpickr("#datepicker");

    // Initialize Chart.js
    const ctx = document.getElementById('myChart').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Januari', 'Februari', 'Maret', 'April', 'Mei'],
        datasets: [{
          label: 'Penjualan',
          data: [12, 19, 3, 5, 8],
          backgroundColor: 'rgba(75, 192, 192, 0.2)',
          borderColor: 'rgba(75, 192, 192, 1)',
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // Button Action
    document.getElementById('actionButton').addEventListener('click', () => {
      const resultArea = document.getElementById('resultArea');
      const selectedDate = document.getElementById('datepicker').value;
      if (selectedDate) {
        resultArea.textContent = `Tanggal yang dipilih: ${selectedDate}`;
      } else {
        resultArea.textContent = 'Silakan pilih tanggal terlebih dahulu!';
      }
    });
  </script>
</body>
</html>
